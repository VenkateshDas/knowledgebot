# fly.toml - Telegram Knowledge Bot
# Optimized for low memory footprint with hybrid retrieval

app = 'telegram-exp'
primary_region = 'fra'

[build]

[env]
  DB_PATH = "/data/bot.db"
  RETRIEVAL_TOP_K = "5"
  BM25_WEIGHT = "0.4"
  VECTOR_WEIGHT = "0.6"
  CACHE_SIMILARITY_THRESHOLD = "0.92"
  CACHE_MAX_ENTRIES = "500"
  CACHE_TTL_HOURS = "24"
  INDEXING_POLL_INTERVAL = "10"
  INDEXING_BATCH_SIZE = "5"

[[vm]]
  memory_mb = 256
  cpus = 1

[[mounts]]
  source = "bot_data"
  destination = "/data"
